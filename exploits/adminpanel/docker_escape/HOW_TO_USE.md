# AdminPanel - Docker Escape Exploits

## Overview
These exploits demonstrate container escape techniques after achieving RCE on the AdminPanel container. Use these ONLY in authorized testing environments.

## Target Application
- **Project**: AdminPanel
- **Port**: 5007
- **Prerequisites**: RCE access (see `../rce/` exploits first)

## Exploits

### privileged_container.sh
Attempts to escape a privileged Docker container to the host system.

**Usage:**
```bash
# First, gain RCE on the container (use ../rce/ exploits)
# Then execute this script inside the container:
bash privileged_container.sh
```

**What it does:**
1. Checks if container is running in privileged mode
2. Attempts to mount host filesystem
3. Provides access to host resources

**Detection:**
```bash
# Check if container is privileged:
docker inspect adminpanel | grep Privileged
```

**Expected Output (if successful):**
```
[+] Container is privileged
[+] Attempting host filesystem mount...
[+] Success! Host filesystem accessible at /host
[+] You can now access host files:
ls /host/etc/passwd
```

**Expected Output (if unsuccessful):**
```
[-] Container is not privileged
[-] Cannot escape without privilege escalation
```

## Defense Recommendations
- **NEVER** run containers with `--privileged` flag in production
- Use `--cap-drop=ALL` and selectively add only required capabilities
- Enable AppArmor/SELinux profiles
- Use user namespaces to remap root
- Implement runtime security monitoring (Falco, Sysdig)

## Container Security Best Practices
```yaml
# docker-compose.yml - Secure configuration
security_opt:
  - no-new-privileges:true
  - apparmor=docker-default
cap_drop:
  - ALL
cap_add:
  - NET_BIND_SERVICE  # Only add what's needed
read_only: true
user: "1000:1000"  # Non-root user
```

## Notes
**CRITICAL WARNING**: Container escape exploits can compromise the entire host system.

**Legal Notice**: Only use these exploits on systems you own or have explicit written permission to test. Unauthorized access is illegal.

## Related Exploits
- First gain RCE using: `../rce/system_eval.py`, `../rce/system_exec.py`, or `../rce/system_python.py`
